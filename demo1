let logs = {
    info: [],
    debug: [],
    warn: [],
    error: [],
    events: []
};
const threshold = {
    info: 50,
    debug: 50,
    warn: 10,
    error: 5,
    events: 50
}
const isConsole = true;

export const logInfo = async (tag = "infoLogs", message = "") => {
    const timestamp = new Date().toISOString();
    logs['info'].push(`${timestamp} info ${tag} ${message}`)
    if (logs.info.length === threshold.info) {
        await sendLogsToAPI(logs.info);
        logs.info = [];
    }
    isConsole && console.log("logs", logs)
}

export const logDebug = async (tag = "debugLogs", message = "") => {
    const timestamp = new Date().toISOString();
    logs['debug'].push(`${timestamp} debug ${tag} ${message}`)
    if (logs.debug.length === threshold.debug) {
        await sendLogsToAPI(logs.debug);
        logs.info = [];
    }
    isConsole && console.log("logs", logs)
}

export const logWarn = async (tag = "warnLogs", message = "") => {
    const timestamp = new Date().toISOString();
    logs['warn'].push(`${timestamp} warn ${tag} ${message}`)
    if (logs.warn.length === threshold.warn) {
        await sendLogsToAPI(logs.warn);
        logs.warn = [];
    }
    isConsole && console.log("logs", logs)
}

export const logError = async (tag = "errorLogs", message = "", stackTrace = "") => {
    const timestamp = new Date().toISOString();
    logs['error'].push(`${timestamp} error ${tag} ${message} ${stackTrace}`)
    if (logs.error.length === threshold.error) {
        await sendLogsToAPI(logs.error);
        logs.error = [];
    }
    isConsole && console.log("logs", logs)
}

export const logEvent = async (tag = "eventsLogs", message = "", context = "") => {
    const timestamp = new Date().toISOString();
    logs['events'].push(`${timestamp} events ${tag} ${message} ${context}`)
    if (logs.events.length === threshold.events) {
        await sendLogsToAPI(logs.events);
        logs.events = [];
    }
    isConsole && console.log("logs", logs)
}

const sendLogsToAPI = async (logArray) => {
    try {
        const response = await fetch('test', {
            method: 'POST',
            mode: 'cors',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(logArray)
        });

        if (!response.ok) {
            throw new Error('Failed to send logs to API');
        }
    } catch (error) {
        logError('FetchError', `Error sending logs to API:${error}`);
    }
};

currently we are using application memory to store the logs but i want to use local Storage for 
this is it possible to do so 

 useLoginMetadata › should return login metadata

    expect(received).toBe(expected) // Object.is equality

    Expected: "success"
    Received: "error"

    Ignored nodes: comments, script, style
    <html>
      <head />
      <body>
        <div />
      </body>
    </html>

      230 |         const { result } = renderHook(() => useLoginMetadata(), { wrapper });
      231 |
    > 232 |         await waitFor(() => expect(result.current.status).toBe("success"));
          |                                                           ^
      233 |
      234 |         expect(result.current.data).toEqual(mockResponse);
      235 |     });

      at src/features/auth/hooks_auth.test.tsx:232:59
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:127:77)
      at checkRealTimersCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:121:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

  ● useLoginMetadata › should handle API error

    expect(received).toEqual(expected) // deep equality

    Expected: [Error: Failed to fetch login metadata]
    Received: [Error: Error message]

      251 |         await waitFor(() => expect(result.current.status).toBe("error"));
      252 |
    > 253 |         expect(result.current.error).toEqual(new Error("Failed to fetch login metadata"));
          |                                      ^
      254 |     });
      255 | });
      256 |

      at Object.<anonymous> (src/features/auth/hooks_auth.test.tsx:253:38)

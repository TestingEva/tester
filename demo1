 useLoginMetadata › should return login metadata

    expect(received).toBe(expected) // Object.is equality

    Expected: "success"
    Received: "error"

    Ignored nodes: comments, script, style
    <html>
      <head />
      <body>
        <div />
      </body>
    </html>

      225 |         const { result } = renderHook(() => useLoginMetadata(), { wrapper });
      226 |
    > 227 |         await waitFor(() => expect(result.current.status).toBe("success"));
          |                                                           ^
      228 |
      229 |         expect(result.current.data).toEqual({
      230 |             passwordLess: false,

      at src/features/auth/hooks_auth.test.tsx:227:59
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:127:77)
      at checkRealTimersCallback (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:121:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:516:19)

  ● useLoginMetadata › should handle API error

    expect(received).toEqual(expected) // deep equality

    Expected: [Error: Failed to fetch login metadata]
    Received: [Error: [
      {
        "code": "invalid_type",
        "expected": "boolean",
        "received": "undefined",
        "path": [
          "adminPwdChanged"
        ],
        "message": "Required"
      },
      {
        "code": "invalid_type",
        "expected": "boolean",
        "received": "undefined",
        "path": [
          "passwordRequired"
        ],
        "message": "Required"
      }
    ]]

      249 |         await waitFor(() => expect(result.current.status).toBe("error"));
      250 |
    > 251 |         expect(result.current.error).toEqual(new Error("Failed to fetch login metadata"));
          |                                      ^
      252 |     });
      253 | });

      at Object.<anonymous> (src/features/auth/hooks_auth.test.tsx:251:38)

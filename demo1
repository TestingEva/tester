testing.ts
import wretch from 'wretch';

export const getUsers = async () => {
  try {
    const response = await wretch('https://jsonplaceholder.typicode.com/todos/1').get().json();
    console.log(response)
    return response;
  } catch (error) {
    throw new Error('Failed to fetch users');
  }
};

testing.test.ts
import { getUsers } from './testing';
import wretch from 'wretch';

jest.mock('wretch');

describe('API Testing', () => {
    test('getUsers - success', async () => {
        const mockResponse = {
            userId: 1,
            id: 1,
            title: "delectus aut autem",
            completed: false
        }
        wretch.mockResolvedValueOnce({ get: () => ({ json: () => mockResponse }) });
        const users = await getUsers();
        expect(users).toEqual(mockResponse);
    });

    test('getUsers - failure', async () => {
        wretch.mockRejectedValueOnce(new Error('Network error'));
        await expect(getUsers()).rejects.toThrow('Failed to fetch users');
    });
});

its saying Property 'mockResolvedValueOnce' does not exist on type 'typeof factory'


import { BackhaulCategory } from "../../domain/backhaul-logging/models";
import { mapAndThrowError } from "../api_error";
import { GET_BACKHAUL_LOGS_URL } from "../endpoints";
import httpClient from "../http/http_client_impl";
import { httpRequest } from "../http/request_builder";
import { BackhaulLoggingApiResponse } from "./models";
import { BackhaulLoggingResponseSchema } from "./schemas";

export async function getBackhaulLogsApi(
  authToken: string,
  request: BackhaulCategory
): Promise<BackhaulLoggingApiResponse> {
  try {
    const response = await httpClient.send(
      httpRequest(GET_BACKHAUL_LOGS_URL).authToken(authToken).jsonBodyOf({ deviceType: request }).build()
    );
    if (response.code === 204) {
      return { logs: "" };
    }
    return BackhaulLoggingResponseSchema.parse(response.body) as BackhaulLoggingApiResponse;
  } catch (e) {
    mapAndThrowError(e);
  }
}

I want that if the request is BackhaulCategory.none then we do not need to send the body of request it should be empty and in other cases it should have body

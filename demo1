import { mapAndThrowError } from "../api_error";
import { HOME_DETAILS_URL } from "../endpoints";
import { httpRequest } from "../http_client";
import { HomPageDetailsResponse } from "./models";
import { HomePageDetailsResponseSchema } from "./schemas";

export async function getHomePageDetailsApi(
  authToken: string
): Promise<HomPageDetailsResponse> {
  try {
    const response = await httpRequest(HOME_DETAILS_URL)
      .authToken(authToken)
      .post()
      .readAsJson();
    return HomePageDetailsResponseSchema.parse(
      response
    ) as HomPageDetailsResponse;
  } catch (e) {
    mapAndThrowError(e);
  }
}


export type HomPageDetailsResponse = {
  deviceList: Array<DeviceData>;
  meshEnabledStatus: boolean;
  parentalControlList: Array<ParentalData>;
  routerStatus: string;
  wifiList: Array<WifiData>;
  timestamp: number;
};

Like how can i write test cases for this 
